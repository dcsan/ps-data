{
  "episodeId": "aW_cD3vHhkI",
  "channelSlug": "@boundaryml",
  "title": "BAML Tutorial - Using LLM Clients",
  "publishedAt": "2025-04-01T21:51:07.000Z",
  "rawLines": [
    {
      "lang": "en",
      "text": "All right. So, you must be familiar with",
      "offset": 0.16,
      "duration": 4.159
    },
    {
      "lang": "en",
      "text": "BAML functions by now, and you've likely",
      "offset": 2.08,
      "duration": 4.08
    },
    {
      "lang": "en",
      "text": "noticed the client parameter within",
      "offset": 4.319,
      "duration": 4.801
    },
    {
      "lang": "en",
      "text": "those functions and wondered what's the",
      "offset": 6.16,
      "duration": 5.359
    },
    {
      "lang": "en",
      "text": "deal with that. Well, today we're going",
      "offset": 9.12,
      "duration": 4.72
    },
    {
      "lang": "en",
      "text": "to break it down. The client parameter",
      "offset": 11.519,
      "duration": 4.881
    },
    {
      "lang": "en",
      "text": "tells BAML which backend to use for",
      "offset": 13.84,
      "duration": 4.8
    },
    {
      "lang": "en",
      "text": "inference. You can pass it a string like",
      "offset": 16.4,
      "duration": 3.799
    },
    {
      "lang": "en",
      "text": "this,",
      "offset": 18.64,
      "duration": 4.32
    },
    {
      "lang": "en",
      "text": "provider/model name. Simple, right? So,",
      "offset": 20.199,
      "duration": 4.761
    },
    {
      "lang": "en",
      "text": "you could use open AI models,",
      "offset": 22.96,
      "duration": 4.559
    },
    {
      "lang": "en",
      "text": "enthropics, or a bunch of others. And",
      "offset": 24.96,
      "duration": 5.159
    },
    {
      "lang": "en",
      "text": "trust me, BAML supports a ton of",
      "offset": 27.519,
      "duration": 5.361
    },
    {
      "lang": "en",
      "text": "providers. Here's the list. Now, here's",
      "offset": 30.119,
      "duration": 5.161
    },
    {
      "lang": "en",
      "text": "the fun part. With time, you realize",
      "offset": 32.88,
      "duration": 4.32
    },
    {
      "lang": "en",
      "text": "that you don't always need big,",
      "offset": 35.28,
      "duration": 5.16
    },
    {
      "lang": "en",
      "text": "expensive models for every task. PAML's",
      "offset": 37.2,
      "duration": 5.44
    },
    {
      "lang": "en",
      "text": "optimizations allow you to make do with",
      "offset": 40.44,
      "duration": 5.24
    },
    {
      "lang": "en",
      "text": "smaller ones just fine. So, now you may",
      "offset": 42.64,
      "duration": 5.04
    },
    {
      "lang": "en",
      "text": "decide to switch to smaller and hence",
      "offset": 45.68,
      "duration": 3.92
    },
    {
      "lang": "en",
      "text": "cheaper models. Now, we don't want to go",
      "offset": 47.68,
      "duration": 3.84
    },
    {
      "lang": "en",
      "text": "ahead and update every single prompt",
      "offset": 49.6,
      "duration": 4.4
    },
    {
      "lang": "en",
      "text": "manually, right? Wouldn't it be great if",
      "offset": 51.52,
      "duration": 5.12
    },
    {
      "lang": "en",
      "text": "we had some sort of an LLM router which",
      "offset": 54,
      "duration": 5.12
    },
    {
      "lang": "en",
      "text": "allows us to easily control what model",
      "offset": 56.64,
      "duration": 5.36
    },
    {
      "lang": "en",
      "text": "gets used for what prompt? A router",
      "offset": 59.12,
      "duration": 5.439
    },
    {
      "lang": "en",
      "text": "which we can configure through our code.",
      "offset": 62,
      "duration": 6.64
    },
    {
      "lang": "en",
      "text": "Meet named clients. With named clients,",
      "offset": 64.559,
      "duration": 6.041
    },
    {
      "lang": "en",
      "text": "you can create reusable model",
      "offset": 68.64,
      "duration": 4.159
    },
    {
      "lang": "en",
      "text": "configurations. Something like this. If",
      "offset": 70.6,
      "duration": 3.8
    },
    {
      "lang": "en",
      "text": "you initialize your project with the",
      "offset": 72.799,
      "duration": 4.68
    },
    {
      "lang": "en",
      "text": "BAML CLI, you'll find a sample in the",
      "offset": 74.4,
      "duration": 6.399
    },
    {
      "lang": "en",
      "text": "autogenerated clients.baml file. Now,",
      "offset": 77.479,
      "duration": 5.64
    },
    {
      "lang": "en",
      "text": "here's the cool part. You can create as",
      "offset": 80.799,
      "duration": 4.881
    },
    {
      "lang": "en",
      "text": "many of these named clients as you want.",
      "offset": 83.119,
      "duration": 5.121
    },
    {
      "lang": "en",
      "text": "So I can have a small boy client for",
      "offset": 85.68,
      "duration": 5.28
    },
    {
      "lang": "en",
      "text": "lightweight task and a big boy client",
      "offset": 88.24,
      "duration": 5.28
    },
    {
      "lang": "en",
      "text": "for something more heavy duty. Simply",
      "offset": 90.96,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "head over to your prompt and replace",
      "offset": 93.52,
      "duration": 4.4
    },
    {
      "lang": "en",
      "text": "this string with your client's name.",
      "offset": 95.52,
      "duration": 6.8
    },
    {
      "lang": "en",
      "text": "Wow, this is so cool. Now named clients",
      "offset": 97.92,
      "duration": 7.12
    },
    {
      "lang": "en",
      "text": "open up some new possibilities. Allow me",
      "offset": 102.32,
      "duration": 6.24
    },
    {
      "lang": "en",
      "text": "to share some tips. First, easy model",
      "offset": 105.04,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "swaps. As we've already seen, you can",
      "offset": 108.56,
      "duration": 4.96
    },
    {
      "lang": "en",
      "text": "swap out the underlying models, even the",
      "offset": 110.96,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "providers, without having to change your",
      "offset": 113.52,
      "duration": 5.12
    },
    {
      "lang": "en",
      "text": "prompts. Next, you can configure model",
      "offset": 115.84,
      "duration": 5.52
    },
    {
      "lang": "en",
      "text": "specific options such as temperature and",
      "offset": 118.64,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "maximum tokens. This allows you to",
      "offset": 121.36,
      "duration": 4.48
    },
    {
      "lang": "en",
      "text": "create specialized name clients for",
      "offset": 123.52,
      "duration": 4.719
    },
    {
      "lang": "en",
      "text": "different scenarios. For example, a",
      "offset": 125.84,
      "duration": 4.8
    },
    {
      "lang": "en",
      "text": "creative light client with a high",
      "offset": 128.239,
      "duration": 4.801
    },
    {
      "lang": "en",
      "text": "temperature setting or a boring but",
      "offset": 130.64,
      "duration": 4.08
    },
    {
      "lang": "en",
      "text": "right client with focus on",
      "offset": 133.04,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "predictability. Yeah, naming variables",
      "offset": 134.72,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "is hard. Just keep in mind that various",
      "offset": 137.92,
      "duration": 5.039
    },
    {
      "lang": "en",
      "text": "providers support different options.",
      "offset": 140.64,
      "duration": 4.08
    },
    {
      "lang": "en",
      "text": "Check out your provider's documentation",
      "offset": 142.959,
      "duration": 4.321
    },
    {
      "lang": "en",
      "text": "to get a list of options they support.",
      "offset": 144.72,
      "duration": 5.36
    },
    {
      "lang": "en",
      "text": "You can find a link to that and more in",
      "offset": 147.28,
      "duration": 6.319
    },
    {
      "lang": "en",
      "text": "BML's docs. Here's another pro tip.",
      "offset": 150.08,
      "duration": 6.4
    },
    {
      "lang": "en",
      "text": "Yeah, I'm feeling generous today. If",
      "offset": 153.599,
      "duration": 5.041
    },
    {
      "lang": "en",
      "text": "your favorite provider isn't on BML's",
      "offset": 156.48,
      "duration": 5.2
    },
    {
      "lang": "en",
      "text": "list, don't panic. Many providers offer",
      "offset": 158.64,
      "duration": 6.879
    },
    {
      "lang": "en",
      "text": "an OpenAI compatible API. PAML's OpenAI",
      "offset": 161.68,
      "duration": 6.32
    },
    {
      "lang": "en",
      "text": "generic client can connect to any of",
      "offset": 165.519,
      "duration": 5.601
    },
    {
      "lang": "en",
      "text": "them. Just set the right base URL. Also,",
      "offset": 168,
      "duration": 5.519
    },
    {
      "lang": "en",
      "text": "do set the API key even if it's not",
      "offset": 171.12,
      "duration": 5.28
    },
    {
      "lang": "en",
      "text": "needed. It's an OpenAI quirk. For",
      "offset": 173.519,
      "duration": 4.8
    },
    {
      "lang": "en",
      "text": "example, here's how you can do it for",
      "offset": 176.4,
      "duration": 4.24
    },
    {
      "lang": "en",
      "text": "Grock. We've got more of these on our",
      "offset": 178.319,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "docs. Now, the third tip. It is the",
      "offset": 180.64,
      "duration": 5.519
    },
    {
      "lang": "en",
      "text": "third tip, isn't it? We're going to call",
      "offset": 184.239,
      "duration": 4.401
    },
    {
      "lang": "en",
      "text": "this the third one. You can pass values",
      "offset": 186.159,
      "duration": 5.201
    },
    {
      "lang": "en",
      "text": "from environment variables as well. Just",
      "offset": 188.64,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "prefix your environment variable name",
      "offset": 191.36,
      "duration": 4.799
    },
    {
      "lang": "en",
      "text": "with an env. You can use this to pass",
      "offset": 193.2,
      "duration": 5.759
    },
    {
      "lang": "en",
      "text": "sensitive values like base URLs and API",
      "offset": 196.159,
      "duration": 5.44
    },
    {
      "lang": "en",
      "text": "keys. Moving on to the harsh realities",
      "offset": 198.959,
      "duration": 6.64
    },
    {
      "lang": "en",
      "text": "of life. APIs fail. It happens. Maybe",
      "offset": 201.599,
      "duration": 6.321
    },
    {
      "lang": "en",
      "text": "OpenAI is having a bad day and doesn't",
      "offset": 205.599,
      "duration": 4.801
    },
    {
      "lang": "en",
      "text": "process your requests. Maybe Enthropic",
      "offset": 207.92,
      "duration": 4.959
    },
    {
      "lang": "en",
      "text": "decides to rate limit you. Maybe your",
      "offset": 210.4,
      "duration": 5.44
    },
    {
      "lang": "en",
      "text": "favorite openweight model is down.",
      "offset": 212.879,
      "duration": 5.681
    },
    {
      "lang": "en",
      "text": "Things can go wrong. Don't worry, we've",
      "offset": 215.84,
      "duration": 4.479
    },
    {
      "lang": "en",
      "text": "got your back. Remember when I showed",
      "offset": 218.56,
      "duration": 3.759
    },
    {
      "lang": "en",
      "text": "you the list of providers that BAML",
      "offset": 220.319,
      "duration": 4.321
    },
    {
      "lang": "en",
      "text": "supports? I'm sure something caught your",
      "offset": 222.319,
      "duration": 5.321
    },
    {
      "lang": "en",
      "text": "eye. You noticed it,",
      "offset": 224.64,
      "duration": 6.239
    },
    {
      "lang": "en",
      "text": "right? Right. So, the fallback provider",
      "offset": 227.64,
      "duration": 6.48
    },
    {
      "lang": "en",
      "text": "is like a super duper",
      "offset": 230.879,
      "duration": 6.961
    },
    {
      "lang": "en",
      "text": "client. I did not name that. It can try",
      "offset": 234.12,
      "duration": 5.72
    },
    {
      "lang": "en",
      "text": "different models in sequence. This",
      "offset": 237.84,
      "duration": 3.84
    },
    {
      "lang": "en",
      "text": "allows it to fall back from one name",
      "offset": 239.84,
      "duration": 3.92
    },
    {
      "lang": "en",
      "text": "client to another in a predetermined",
      "offset": 241.68,
      "duration": 4.08
    },
    {
      "lang": "en",
      "text": "order in case there are any network",
      "offset": 243.76,
      "duration": 4.479
    },
    {
      "lang": "en",
      "text": "issues or the API gives you an invalid",
      "offset": 245.76,
      "duration": 4.479
    },
    {
      "lang": "en",
      "text": "status code. To use the fallback",
      "offset": 248.239,
      "duration": 4.161
    },
    {
      "lang": "en",
      "text": "provider, just replace the client in",
      "offset": 250.239,
      "duration": 6.081
    },
    {
      "lang": "en",
      "text": "your prompt with this one. Yep, it's",
      "offset": 252.4,
      "duration": 6.32
    },
    {
      "lang": "en",
      "text": "just another named client. If you don't",
      "offset": 256.32,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "want to hop around between providers and",
      "offset": 258.72,
      "duration": 5.36
    },
    {
      "lang": "en",
      "text": "just want BAML to retry after a delay,",
      "offset": 260.88,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "you can use the retry policy. The retry",
      "offset": 264.08,
      "duration": 6.399
    },
    {
      "lang": "en",
      "text": "policy isn't really a provider. It's a",
      "offset": 266.8,
      "duration": 6.48
    },
    {
      "lang": "en",
      "text": "policy. I mean, it's in the name. You",
      "offset": 270.479,
      "duration": 5.121
    },
    {
      "lang": "en",
      "text": "can attach a retry policy with a",
      "offset": 273.28,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "constant delay on an exponential back",
      "offset": 275.6,
      "duration": 5.44
    },
    {
      "lang": "en",
      "text": "off to any existing client. It's that",
      "offset": 278.16,
      "duration": 5.28
    },
    {
      "lang": "en",
      "text": "simple. Now, before I let you go,",
      "offset": 281.04,
      "duration": 4.48
    },
    {
      "lang": "en",
      "text": "there's just one more use case that I",
      "offset": 283.44,
      "duration": 4.8
    },
    {
      "lang": "en",
      "text": "absolutely need to talk about. Let's say",
      "offset": 285.52,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "you're running a SAS company, cuz who",
      "offset": 288.24,
      "duration": 5.04
    },
    {
      "lang": "en",
      "text": "isn't? And you have different pricing",
      "offset": 291.44,
      "duration": 4.4
    },
    {
      "lang": "en",
      "text": "tiers for your users. What if you want",
      "offset": 293.28,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "to use different models based on your",
      "offset": 295.84,
      "duration": 5.28
    },
    {
      "lang": "en",
      "text": "customers subscription? For example, use",
      "offset": 298.16,
      "duration": 5.36
    },
    {
      "lang": "en",
      "text": "a lightweight model for free tier users",
      "offset": 301.12,
      "duration": 5.24
    },
    {
      "lang": "en",
      "text": "and a more expensive model for premium",
      "offset": 303.52,
      "duration": 5.92
    },
    {
      "lang": "en",
      "text": "users. Hey, we all do that. I'm not",
      "offset": 306.36,
      "duration": 5.24
    },
    {
      "lang": "en",
      "text": "going to judge. What we need is the",
      "offset": 309.44,
      "duration": 4.319
    },
    {
      "lang": "en",
      "text": "ability to dynamically configure the",
      "offset": 311.6,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "properties of a named client. Things",
      "offset": 313.759,
      "duration": 5.601
    },
    {
      "lang": "en",
      "text": "like the provider, the model being used,",
      "offset": 316.16,
      "duration": 6.08
    },
    {
      "lang": "en",
      "text": "actually everything through our code.",
      "offset": 319.36,
      "duration": 4.48
    },
    {
      "lang": "en",
      "text": "This is where the client registries",
      "offset": 322.24,
      "duration": 3.76
    },
    {
      "lang": "en",
      "text": "comes in. The idea is simple. We want to",
      "offset": 323.84,
      "duration": 4.32
    },
    {
      "lang": "en",
      "text": "swap out the config of a named client",
      "offset": 326,
      "duration": 5.199
    },
    {
      "lang": "en",
      "text": "object at runtime. You can do this in",
      "offset": 328.16,
      "duration": 5.68
    },
    {
      "lang": "en",
      "text": "three steps. First, create the client",
      "offset": 331.199,
      "duration": 5.761
    },
    {
      "lang": "en",
      "text": "registry object for each request. To be",
      "offset": 333.84,
      "duration": 5.6
    },
    {
      "lang": "en",
      "text": "fair, you could make this object global,",
      "offset": 336.96,
      "duration": 4.239
    },
    {
      "lang": "en",
      "text": "but in that case, you might want to",
      "offset": 339.44,
      "duration": 3.28
    },
    {
      "lang": "en",
      "text": "consider just sticking with named",
      "offset": 341.199,
      "duration": 4.081
    },
    {
      "lang": "en",
      "text": "clients instead, but again, you know",
      "offset": 342.72,
      "duration": 4.72
    },
    {
      "lang": "en",
      "text": "your use case better. Moving on, you",
      "offset": 345.28,
      "duration": 4.479
    },
    {
      "lang": "en",
      "text": "then add your LLM client object to this",
      "offset": 347.44,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "registry. Here you need to pass in all",
      "offset": 349.759,
      "duration": 4.401
    },
    {
      "lang": "en",
      "text": "the parameters you want to set. Your",
      "offset": 352,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "name registry is not merged but rather",
      "offset": 354.16,
      "duration": 4.879
    },
    {
      "lang": "en",
      "text": "replaced with the settings you pass.",
      "offset": 356.88,
      "duration": 4
    },
    {
      "lang": "en",
      "text": "Something to remember and it goes",
      "offset": 359.039,
      "duration": 3.761
    },
    {
      "lang": "en",
      "text": "without saying that you can pass in all",
      "offset": 360.88,
      "duration": 3.84
    },
    {
      "lang": "en",
      "text": "the options that you could have when",
      "offset": 362.8,
      "duration": 4.239
    },
    {
      "lang": "en",
      "text": "using named clients. There's nothing new",
      "offset": 364.72,
      "duration": 4.56
    },
    {
      "lang": "en",
      "text": "here. It is important to use the same",
      "offset": 367.039,
      "duration": 5.121
    },
    {
      "lang": "en",
      "text": "name as your name client. If you use a",
      "offset": 369.28,
      "duration": 4.72
    },
    {
      "lang": "en",
      "text": "different name, the BAML function will",
      "offset": 372.16,
      "duration": 3.84
    },
    {
      "lang": "en",
      "text": "default to the name client defined in",
      "offset": 374,
      "duration": 5.36
    },
    {
      "lang": "en",
      "text": "your BAML code. This is actually good as",
      "offset": 376,
      "duration": 5.6
    },
    {
      "lang": "en",
      "text": "it allows you to selectively replace",
      "offset": 379.36,
      "duration": 4.64
    },
    {
      "lang": "en",
      "text": "named clients depending on the context.",
      "offset": 381.6,
      "duration": 4.24
    },
    {
      "lang": "en",
      "text": "For example, you might want to switch to",
      "offset": 384,
      "duration": 4.16
    },
    {
      "lang": "en",
      "text": "a model with a huge context window if",
      "offset": 385.84,
      "duration": 4.479
    },
    {
      "lang": "en",
      "text": "you find yourself stuck in a longunning",
      "offset": 388.16,
      "duration": 4.319
    },
    {
      "lang": "en",
      "text": "conversation. You can always choose to",
      "offset": 390.319,
      "duration": 4.561
    },
    {
      "lang": "en",
      "text": "make any LLM client in this registry",
      "offset": 392.479,
      "duration": 4.641
    },
    {
      "lang": "en",
      "text": "primary. That would force the BAML",
      "offset": 394.88,
      "duration": 4.4
    },
    {
      "lang": "en",
      "text": "function to use this client no matter",
      "offset": 397.12,
      "duration": 4.32
    },
    {
      "lang": "en",
      "text": "what. Now the last step is to pass the",
      "offset": 399.28,
      "duration": 4.16
    },
    {
      "lang": "en",
      "text": "newly created client registry while",
      "offset": 401.44,
      "duration": 4.24
    },
    {
      "lang": "en",
      "text": "calling the BAML function. Don't forget",
      "offset": 403.44,
      "duration": 4.24
    },
    {
      "lang": "en",
      "text": "to do this. Skipping this step will make",
      "offset": 405.68,
      "duration": 4.239
    },
    {
      "lang": "en",
      "text": "your BML function fall back to the name",
      "offset": 407.68,
      "duration": 5.359
    },
    {
      "lang": "en",
      "text": "client all over again. And that's a",
      "offset": 409.919,
      "duration": 6.481
    },
    {
      "lang": "en",
      "text": "wrap. Name clients, fallback, retry",
      "offset": 413.039,
      "duration": 6.241
    },
    {
      "lang": "en",
      "text": "policies, and client registries. Bammer",
      "offset": 416.4,
      "duration": 4.799
    },
    {
      "lang": "en",
      "text": "gives you all the flexibility you could",
      "offset": 419.28,
      "duration": 4.88
    },
    {
      "lang": "en",
      "text": "possibly need. Got questions? Hit us up",
      "offset": 421.199,
      "duration": 4.641
    },
    {
      "lang": "en",
      "text": "on Discord. And don't forget to check",
      "offset": 424.16,
      "duration": 4.24
    },
    {
      "lang": "en",
      "text": "out the next video on dynamic types for",
      "offset": 425.84,
      "duration": 7.199
    },
    {
      "lang": "en",
      "text": "structure responses. I'll see you there.",
      "offset": 428.4,
      "duration": 4.639
    }
  ],
  "cleanText": null,
  "dumpedAt": "2025-07-21T18:43:24.993Z"
}